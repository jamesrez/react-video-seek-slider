/*! For license information please see index.js.LICENSE.txt */
(()=>{"use strict";var e={251:(e,t,r)=>{var s=r(699),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,r){var s,i={},u=null,l=null;for(s in void 0!==r&&(u=""+r),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(l=t.ref),t)n.call(t,s)&&!c.hasOwnProperty(s)&&(i[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===i[s]&&(i[s]=t[s]);return{$$typeof:o,type:e,key:u,ref:l,props:i,_owner:a.current}}t.Fragment=i,t.jsx=u,t.jsxs=u},893:(e,t,r)=>{e.exports=r(251)},699:e=>{e.exports=require("react")}},t={};function r(s){var o=t[s];if(void 0!==o)return o.exports;var i=t[s]={exports:{}};return e[s](i,i.exports,r),i.exports}r.d=(e,t)=>{for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s={};(()=>{r.r(s),r.d(s,{VideoSeekSlider:()=>d});var e=r(893),t=r(699);const o=(e,t,r)=>e>=t&&e<=r;function i(e,t,r,s){const i=o(e,t,r);return s?1:i?(e-t)/(r-t):0}const n=(0,t.memo)((({label:t="",startTime:r,maxTime:s,endTime:o,currentTime:n,seekHoverTime:a,bufferTime:c,isTimePassed:u=!1,isBufferPassed:l=!1,isHoverPassed:m=!1,onHover:d=(()=>{}),withGap:f})=>{const v=100*r/(s||-1),h=(o-r)/s*100,p="main"+(f?" with-gap":""),T=i(n,r,o,u),x=i(a,r,o,m),b=i(c,r,o,l);return(0,e.jsxs)("div",{className:p,onMouseMove:()=>d(t),style:{width:`${h}%`,left:`${v}%`},children:[(0,e.jsx)("div",{className:"inner-seek-block buffered","data-test-id":"test-buffered",style:{transform:`scaleX(${b})`}}),(0,e.jsx)("div",{className:"inner-seek-block seek-hover","data-test-id":"test-seek-hover",style:{transform:`scaleX(${x})`}}),(0,e.jsx)("div",{className:"inner-seek-block connect",style:{transform:`scaleX(${T})`}})]})}));function a(e,t,r){const s=100*t/r;return Math.floor(e/100*+s)}const c=(e,t,r)=>t+1<e.length?e[t+1].fromMs:r,u=({max:r=1e3,currentTime:s=0,bufferTime:i=0,seekHoverPosition:u=0,timeCodes:l,trackWidth:m,mobileSeeking:d,label:f,setLabel:v})=>{const h=a(r,u,m),p=(0,t.useCallback)((e=>{f!==e&&v(e)}),[f]);return(0,t.useEffect)((()=>{if(!d)return;const e=l?.find((({fromMs:e},t)=>{const i=c(l,t,r);return o(s,e,i)}));e?.description!==f&&v(e?.description||"")}),[s,f,r,l]),(0,e.jsx)(e.Fragment,{children:l?.map((({fromMs:t,description:a},u)=>{const m=c(l,u,r),d=m<=s,f=m<=i,v=m<=h;let T=o(s,t,m);const x=d||!T?0:s;T=o(i,t,m);const b=f||!T?0:i;T=o(h,t,m);const k=v||!T?0:h;return(0,e.jsx)(n,{label:a,maxTime:r,startTime:t,endTime:m,isTimePassed:d,isBufferPassed:f,isHoverPassed:v,currentTime:x,bufferTime:b,seekHoverTime:k,onHover:p,withGap:!0},t)}))})};const l=({max:r,hoverTimeValue:s,offset:o,trackWidth:i,seekHoverPosition:n,isThumbActive:a,limitTimeTooltipBySides:c,label:u,minutesPrefix:l,secondsPrefix:m,getPreviewScreenUrl:d})=>{const f=(0,t.useRef)(null),v=a?"hover-time active":"hover-time",h=function(e,t,r,s){let o=0;return t&&(o=e-t.offsetWidth/2,s&&(o<0?o=0:o+t.offsetWidth>r&&(o=r-t.offsetWidth))),{transform:`translateX(${o}px)`}}(n,f?.current,i,c),p=function(e,t,r=0,s="",o=""){const i=function(e,t=0){e+=t;const r=Math.floor(e/1e3<<0),s=Math.floor(e%1e3);return{ms:(r>0?r<10?"00"+r:r<100?"0"+r:r:"000").toString(),mss:(s>0?s<10?"00"+s:s<100?"0"+s:s:"000").toString()}}(t,r);return`${i.ms}:${i.mss}`}(0,s,o,l,m);return(0,e.jsxs)("div",{className:v,style:h,ref:f,"data-testid":"hover-time",children:[a&&d&&(0,e.jsx)("div",{className:"preview-screen",style:{backgroundImage:`url(${d(s)})`}}),u&&(0,e.jsx)("div",{children:u}),p]})},m=({max:t,currentTime:r,isThumbActive:s})=>(0,e.jsx)("div",{className:"thumb active","data-testid":"testThumb",style:{left:`calc(${r/t*100}% + -6px)`},children:(0,e.jsx)("div",{className:"handler"})}),d=({max:r=1e3,currentTime:s=0,bufferTime:i=0,hideThumbTooltip:d=!1,offset:f=0,secondsPrefix:v="",minutesPrefix:h="",limitTimeTooltipBySides:p=!0,timeCodes:T,onChange:x=(()=>{}),getPreviewScreenUrl:b})=>{const[k,g]=(0,t.useState)(0),[w,y]=(0,t.useState)(""),P=(0,t.useRef)(!1),j=(0,t.useRef)(!1),S=(0,t.useRef)(null),_=S.current?.offsetWidth||0,E=k>0||P.current,M=a(r,k,_),L=e=>{const t=S.current?.getBoundingClientRect(),s=t?.left||0,o=t?.width||0;let i=e-s;i=i<0?0:i,i=i>o?o:i;const n=+(100*i/o*(r/100)).toFixed(0);g(i),x(n,n+f)},O=e=>{if(e.preventDefault(),e.stopPropagation(),!j.current)return;const{changedTouches:t}=e;let r=t?.[t.length-1]?.pageX||0;r=r<0?0:r,L(r)},N=e=>{P.current&&L(e.pageX)},$=(e,t)=>{const r=S.current?.getBoundingClientRect().left||0,s=e?0:t.pageX-r;g(s)},H=(e=!0)=>{j.current=e,g(e?k:0)},R=(e,t)=>{t.preventDefault(),N(t),P.current=e,g(e?k:0)},B=e=>{R(!1,e)},C=()=>{H(!1)};return(0,t.useEffect)((()=>{if(!j.current)return;const e=T?.find((({fromMs:e},t)=>{const i=c(T,t,r);return o(s,e,i)}));e?.description!==w&&y(e?.description||"")}),[s,w,r,T]),(0,t.useEffect)((()=>(window.addEventListener("mousemove",N),window.addEventListener("mouseup",B),window.addEventListener("touchmove",O),window.addEventListener("touchend",C),()=>{window.removeEventListener("mousemove",N),window.removeEventListener("mouseup",B),window.removeEventListener("touchmove",O),window.removeEventListener("touchend",C)})),[r,f,_]),(0,e.jsxs)("div",{className:"ui-video-seek-slider",children:[(0,e.jsxs)("div",{className:E?"track active":"track",ref:S,onMouseMove:e=>$(!1,e),onMouseLeave:e=>$(!0,e),onMouseDown:e=>R(!0,e),onTouchStart:()=>H(!0),"data-testid":"main-track",children:[Boolean(T?.length)&&(0,e.jsx)(u,{currentTime:s,max:r,bufferTime:i,seekHoverPosition:k,timeCodes:T,mobileSeeking:j.current,trackWidth:_,label:w,setLabel:y}),!T&&(0,e.jsx)(n,{maxTime:r,startTime:0,endTime:r,currentTime:s,bufferTime:i,seekHoverTime:M})]}),!d&&(0,e.jsx)(l,{max:r,hoverTimeValue:M,isThumbActive:E,label:w,limitTimeTooltipBySides:p,offset:f,seekHoverPosition:k,trackWidth:_,getPreviewScreenUrl:b,minutesPrefix:h,secondsPrefix:v}),(0,e.jsx)(m,{max:r,currentTime:s,isThumbActive:E})]})}})();var o=exports;for(var i in s)o[i]=s[i];s.__esModule&&Object.defineProperty(o,"__esModule",{value:!0})})();